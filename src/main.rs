use std::error::Error;
use std::io::copy;
use std::fs::File;
use bytes::Buf;

fn main() {
    println!("Welcome to the sussy malware ඞ \n");
    println!("ඞ ඞ ඞ ඞ ඞ ඞ ඞ ඞ ඞ \n>Please wait, making this folder sus....");
    match download_sus_imges() { Ok(()) => (println!(">Downloaded really sus images")), 
    _ => (println!("Something is wrong with your network, please try again."))
    }
    
}

fn download_sus_imges() -> Result<(), Box<dyn Error>> {
    let images: Vec<&str> = vec![
        "https://i.redd.it/sqt01fync8381.jpg",
        "https://i.redd.it/oup944dz5mw51.jpg",
        "https://i.redd.it/zxynz9sgtgu51.jpg",
    ];

    let mut i = 0i32;
    for url in images {
        i = i + 1;
        let filename = format!("{}-{}", i.to_string(), "sus.jpg");
        let mut file = File::create(filename)?;
        let mut content = reqwest::blocking::get(url)?.bytes()?.reader();
        copy(&mut content, &mut file)?;
    }
    Ok(())
}
